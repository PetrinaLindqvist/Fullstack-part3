{"version":3,"sources":["Components/PersonForm.js","Components/Filter.js","Components/Persons.js","services/persons.js","Components/Notification.js","App.js","index.js"],"names":["PersonForm","addPerson","handleNoteChange","handleNumberChange","name","number","onSubmit","value","onChange","type","Filter","newFilter","handleFilterChange","Persons","persons","deletePerson","Personfilter","filter","toLowerCase","includes","map","key","onClick","id","baseUrl","axios","get","then","response","data","noteObject","post","put","delete","Notification","message","error","className","App","useState","setPersons","newName","setNewName","newNumber","setNewNumber","setNewFilter","setMessage","setError","useEffect","personsTwo","initialNotes","personUpdated","person","identity","find","n","returnedNote","setTimeout","catch","status","errorMessage","event","console","log","target","preventDefault","date","Date","toISOString","every","note","concat","window","confirm","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.fd8790ea.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst PersonForm =({addPerson, handleNoteChange, handleNumberChange, name, number}) => {\r\n    return (\r\n        <form onSubmit={addPerson}>      \r\n        <div>name: <input value={name} onChange={handleNoteChange} /> </div>\r\n        <div>number: <input value={number} onChange={handleNumberChange}/></div>\r\n        <div><button type=\"submit\">add</button></div>\r\n      </form>\r\n    )\r\n}\r\n\r\n  export default PersonForm","import React from 'react'\r\n\r\nconst Filter = ({newFilter, handleFilterChange}) => {\r\n    return (\r\n        <div>\r\n            filter shown with <input value={newFilter} onChange={handleFilterChange} />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Filter","import React from 'react'\r\n\r\nconst Persons =({persons, newFilter, deletePerson}) => {\r\n    const Personfilter = persons\r\n    .filter(persons =>\r\n    persons.name.toLowerCase().includes(newFilter.toLowerCase()))\r\n    return (\r\n        <div>{Personfilter.map(persons => <li key= {persons.name}>{persons.name} {persons.number}\r\n            <button onClick={() => deletePerson(persons.id)}>delete</button></li>)} </div>    \r\n    )\r\n}\r\nexport default Persons","import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n    const request = axios.get(baseUrl)\r\n    return request.then(response => response.data)\r\n  }\r\n  \r\n  const create = noteObject => {\r\n    const request = axios.post(baseUrl, noteObject)\r\n    return request.then(response => response.data)\r\n  }\r\n  \r\n  const update = (id, noteObject) => {\r\n    const request = axios.put(`${baseUrl}/${id}`, noteObject)\r\n    return request.then(response => response.data)\r\n  }\r\n  \r\n  const takeAway = (id) => {\r\n    const request = axios.delete(`${baseUrl}/${id}`)\r\n    return request.then(response => response.data)\r\n  }\r\n\r\n  export default { getAll, create, update, takeAway }","\r\nimport React from 'react'\r\n\r\nconst Notification = ({ message, error }) => {\r\n    if (message === null && error === null) {\r\n      return null\r\n    }\r\n    else if (message !== null) {\r\n        return (\r\n      <div className=\"message\">\r\n        {message}\r\n      </div>\r\n    )\r\n  }\r\n    else if(error !== null) {\r\n        return(\r\n            <div className=\"error\">\r\n            {error}\r\n          </div>   \r\n        )\r\n  }\r\n}\r\n\r\nexport default Notification\r\n\r\n\r\n","import React, { useState, useEffect } from 'react'\r\nimport PersonForm from './Components/PersonForm'\r\nimport Filter from './Components/Filter'\r\nimport Persons from './Components/Persons'\r\nimport personsTwo from './services/persons'\r\nimport './index.css'\r\nimport Notification from './Components/Notification'\r\n\r\n\r\nconst App = () => {\r\n  const [ persons, setPersons ] = useState([])\r\n  const [ newName, setNewName ] = useState('')\r\n  const [ newNumber, setNewNumber ] = useState('')\r\n  const [ newFilter, setNewFilter] = useState('')\r\n  const [ message, setMessage] = useState(null)\r\n  const [ error, setError] = useState(null)\r\n\r\n  useEffect(() => {\r\n    personsTwo\r\n      .getAll()\r\n      .then(initialNotes => {\r\n        setPersons(initialNotes)\r\n      })\r\n  }, [])\r\n\r\n\r\n  const addPerson = (event) => {\r\n    event.preventDefault()\r\n    console.log('button clicked', event.target)\r\n    const noteObject = {\r\n      name: newName,\r\n      number: newNumber,\r\n      date: new Date().toISOString(),\r\n      /*id: persons.length + 1,*/\r\n      \r\n    }\r\n  \r\n\r\n  if (persons.every((note) => note.name.toLowerCase() !== newName.toLowerCase()))\r\n  {\r\n    personsTwo\r\n      .create(noteObject)\r\n      .then(returnedNote => {\r\n        setPersons(persons.concat(returnedNote))\r\n        setNewName('')\r\n        setNewNumber('') \r\n        setMessage(`Added ${returnedNote.name}`)\r\n        setTimeout(() => {\r\n          setMessage(null)\r\n        },2000)  \r\n  })\r\n        .catch(error => {\r\n        setError(error.response.data.errorMessage)\r\n        setTimeout(() => {\r\n          setError(null)\r\n        },2000)\r\n    })\r\n}\r\n\r\n  else if (window.confirm(`${newName} is already added to phonebook, replace the old number with a new one?`)) {\r\n    personUpdated(noteObject)\r\n  }  \r\n \r\n}\r\n\r\nconst personUpdated = (person) => {\r\n  const identity = persons.find(n => n.name.toLowerCase() === person.name.toLowerCase()).id\r\n  person = {...person, id: identity}\r\n  \r\n  personsTwo\r\n  .update(identity, person)\r\n  .then(returnedNote => {\r\n    setPersons(persons.map(n => n.id !== identity ? n : returnedNote))\r\n    setNewName('')\r\n    setNewNumber('')\r\n    setMessage(`Changed ${returnedNote.name} number to ${newNumber}`)\r\n        setTimeout(() => {\r\n          setMessage(null)\r\n        }, 2000)  \r\n  })\r\n  .catch(error => {\r\n  if (error.response.status === 400)\r\n  {\r\n    setError(error.response.data.errorMessage)\r\n    setTimeout(() => {\r\n      setError(null)\r\n    }, 3000)\r\n  }\r\n  else {\r\n    setPersons(persons.filter(n => n.id !== identity))\r\n    setError(`Information of ${person.name} has already been removed from the server`)\r\n    setTimeout(() => {\r\n      setError(null)\r\n    },3000)\r\n    setNewNumber('')\r\n    setNewName('')\r\n  }\r\n})\r\n}\r\n\r\nconst deletePerson = (id) => {\r\n  const person = persons.find((persons) => persons.id === id)\r\n  if (window.confirm(`Delete ${person.name}?`)) {\r\n  console.log('delete')\r\n  personsTwo\r\n  .takeAway(id)\r\n  .then()\r\n  setPersons(persons.filter(persons => id !== persons.id))\r\n}\r\n}\r\n \r\n  const handleNoteChange = (event) => {\r\n    console.log(event.target.value)\r\n    setNewName(event.target.value)\r\n  }\r\n    \r\n\r\n  const handleNumberChange = (event) => {\r\n    console.log(event.target.value)\r\n    setNewNumber(event.target.value)\r\n  }\r\n\r\n  const handleFilterChange = (event) => {\r\n    console.log(event.target.value)\r\n    setNewFilter(event.target.value)\r\n  \r\n  }\r\n\r\n \r\n  return (\r\n    <div>\r\n      <h2>Phonebook</h2>\r\n      <Notification message={message} error={error} />\r\n      <Filter value={newFilter} handleFilterChange={handleFilterChange} />       \r\n      <h2>Add a new</h2>\r\n      <PersonForm name={newName} handleNoteChange={handleNoteChange} number={newNumber} handleNumberChange={handleNumberChange} addPerson={addPerson}/> \r\n      <h2>Numbers</h2>\r\n      <Persons persons={persons} newFilter={newFilter} deletePerson={deletePerson} />\r\n    </div>  \r\n    \r\n  )\r\n}\r\n\r\nexport default App","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\nimport axios from 'axios'\r\n\r\nconst promise = axios.get('http://localhost:3001/persons')\r\npromise.then(response => {\r\n  console.log(response)\r\n})\r\n\r\n/*const promise2 = axios.get('http://localhost:3001/foobar')\r\nconsole.log(promise2)*/\r\n\r\nReactDOM.render(<App />, document.getElementById('root'))\r\n\r\n"],"sourceRoot":""}